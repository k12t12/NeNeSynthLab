(function(){"use strict";class a{constructor(){this.gradients={},this.memory={}}rand_vect(){let t=Math.random()*2*Math.PI;return{x:Math.cos(t),y:Math.sin(t)}}dot_prod_grid(t,e,r,s){let i,o={x:t-r,y:e-s};return this.gradients[[r,s]]?i=this.gradients[[r,s]]:(i=this.rand_vect(),this.gradients[[r,s]]=i),o.x*i.x+o.y*i.y}smootherstep(t){return 6*t**5-15*t**4+10*t**3}interp(t,e,r){return e+this.smootherstep(t)*(r-e)}get(t,e){if(this.memory.hasOwnProperty([t,e]))return this.memory[[t,e]];let r=Math.floor(t),s=Math.floor(e),i=this.dot_prod_grid(t,e,r,s),o=this.dot_prod_grid(t,e,r+1,s),d=this.dot_prod_grid(t,e,r,s+1),l=this.dot_prod_grid(t,e,r+1,s+1),g=this.interp(t-r,i,o),c=this.interp(t-r,d,l),h=this.interp(e-s,g,c);return this.memory[[t,e]]=h,h}}onmessage=function(n){const{xRatio:t,yRatio:e,length:r}=n.data,s=new a,i=[];for(let o=0;o<r;o++)i[o]=Math.abs(s.get(o*t/1e3,o*e));postMessage(i)}})();
